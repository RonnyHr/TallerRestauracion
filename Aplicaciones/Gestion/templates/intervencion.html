{% extends 'gestion/base.html' %}

{% block content %}
<h2 class="mb-4">Intervenciones Registradas</h2>

<a href="/intervenciones/nuevo" class="btn btn-success mb-3">Nueva Intervención</a>

{% if messages %}
  {% for message in messages %}
    <div class="alert alert-info">{{ message }}</div>
  {% endfor %}
{% endif %}

<table class="table table-bordered table-hover">
    <thead class="table-light">
        <tr>
            <th>ID</th>
            <th>Etnomusicólogo</th>
            <th>Museo</th>
            <th>Descripción</th>
            <th>Fecha</th>
            <th>Duración (días)</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for intervencion in intervenciones %}
        <tr>
            <td>{{ intervencion.id }}</td>
            <td>{{ intervencion.etnomusicologo.nombre }}</td>
            <td>{{ intervencion.museo.nombre }}</td>
            <td>{{ intervencion.descripcion }}</td>
            <td>{{ intervencion.fecha }}</td>
            <td>{{ intervencion.duracion_dias }}</td>
            <td>
                <a href="/intervenciones/editar/{{ intervencion.id }}" class="btn btn-sm btn-primary">Editar</a>
                <a href="/intervenciones/eliminar/{{ intervencion.id }}" class="btn btn-sm btn-danger" onclick="return confirm('¿Estás seguro de eliminar esta intervención?');">Eliminar</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}